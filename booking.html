<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slot Booking - College Sports Hub</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="nav.css">
    <link rel="stylesheet" href="login.css">
    <link rel="stylesheet" href="booking.css">
    <script src="nav.js"></script>
    <style>
        :root {
            --primary: #1a237e;
            --secondary: #283593;
            --success: #2e7d32;
            --warning: #f57f17;
            --danger: #c62828;
            --light: #f5f5f5;
            --dark: #212121;
            --disabled: #9e9e9e;
            --time-restricted: #6a1b9a;
            --type-restricted: #d84315;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 20px;
            min-width: 320px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: var(--primary);
            color: white;
            padding: 25px;
            text-align: center;
            border-bottom: 4px solid var(--secondary);
        }

        .header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .header h2 {
            margin: 8px 0 0;
            font-size: 16px;
            font-weight: 400;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .control-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
            padding: 25px;
            background: var(--light);
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .control-group label {
            font-weight: 500;
            color: var(--dark);
            font-size: 14px;
        }

        .control-group input[type="date"],
        .control-group select {
            width: 100%;
            height: 40px;
            padding: 0 15px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            background-color: white;
            box-sizing: border-box;
            transition: border-color 0.3s;
        }

        .control-group input[type="date"]:focus,
        .control-group select:focus {
            border-color: var(--secondary);
            outline: none;
        }

        .court-grid {
            display: grid;
            grid-template-columns: 120px repeat(10, minmax(90px, 1fr));
            gap: 10px;
            margin-bottom: 30px;
        }

        .court-row, .court-status-row {
            display: contents;
        }

        .court-label, .status-label {
            padding: 15px;
            text-align: center;
            background: var(--primary);
            color: white;
            font-weight: 500;
            border-radius: 6px;
            font-size: 14px;
        }

        .court-number {
            padding: 15px;
            text-align: center;
            background: var(--secondary);
            color: white;
            font-weight: 500;
            border-radius: 6px;
            font-size: 14px;
        }

        .court {
            padding: 15px;
            text-align: center;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: 60px;
            font-size: 14px;
            border: 1px solid transparent;
        }

        .court.available {
            background: var(--success);
            color: white;
        }

        .court.available:hover {
            background: #1b5e20;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .court.selected {
            background: var(--warning);
            color: white;
            box-shadow: 0 0 0 2px var(--warning), 0 4px 8px rgba(245, 127, 23, 0.3);
        }

        .court.booked {
            background: var(--danger);
            color: white;
            position: relative;
            cursor: not-allowed;
        }

        .court.restricted {
            background: var(--disabled);
            color: white;
            cursor: not-allowed;
            position: relative;
        }

        .court.time-restricted {
            background: var(--time-restricted);
            color: white;
            cursor: not-allowed;
            position: relative;
        }

        .court.type-restricted {
            background: var(--type-restricted);
            color: white;
            cursor: not-allowed;
            position: relative;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            padding: 15px;
            background: var(--light);
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            color: var(--dark);
            padding: 8px 12px;
            background: white;
            border-radius: 6px;
            border: 1px solid #e0e0e0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .color-box {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .color-box.available {
            background: var(--success);
        }

        .color-box.selected {
            background: var(--warning);
        }

        .color-box.booked {
            background: var(--danger);
        }

        .color-box.restricted {
            background: var(--disabled);
        }

        .color-box.type-restricted {
            background: var(--type-restricted);
        }

        .color-box.time-restricted {
            background: var(--time-restricted);
        }

        .notification-area {
            min-height: 50px;
            margin-bottom: 25px;
            padding: 15px 20px;
            border-radius: 6px;
            text-align: center;
            font-weight: 500;
            font-size: 14px;
            border-left: 4px solid;
        }

        .notification-area.error {
            background: #ffebee;
            color: var(--danger);
            border-left-color: var(--danger);
        }

        .notification-area.success {
            background: #e8f5e9;
            color: var(--success);
            border-left-color: var(--success);
        }

        .user-details-form, 
        .booking-confirmation,
        .cancel-booking-form {
            background: white;
            padding: 30px;
            border-radius: 8px;
            margin-top: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid #e0e0e0;
        }

        .form-title, .confirmation-title {
            margin-top: 0;
            margin-bottom: 25px;
            color: var(--primary);
            font-size: 20px;
            font-weight: 600;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
            font-size: 14px;
        }

        .form-group input {
            width: 100%;
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            border-color: var(--secondary);
            outline: none;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: var(--secondary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-success:hover {
            background: #1b5e20;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background: #b71c1c;
        }

        .btn-outline {
            background: white;
            color: var(--dark);
            border: 1px solid #e0e0e0;
        }

        .btn-outline:hover {
            background: var(--light);
            border-color: var(--secondary);
            color: var(--secondary);
        }

        .footer {
            text-align: center;
            padding: 20px;
            color: #757575;
            font-size: 13px;
            border-top: 1px solid #e0e0e0;
            background: var(--light);
        }

        .tabs {
            display: flex;
            margin-bottom: 25px;
            border-bottom: 2px solid var(--light);
        }

        .tab {
            padding: 12px 24px;
            cursor: pointer;
            border: none;
            background: transparent;
            font-size: 14px;
            font-weight: 500;
            color: var(--dark);
            transition: all 0.3s;
            position: relative;
        }

        .tab.active {
            color: var(--primary);
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary);
        }

        .tab:hover {
            color: var(--primary);
        }

        .login-section {
            text-align: right;
            padding: 15px 25px;
            background: var(--light);
            border-bottom: 1px solid #e0e0e0;
        }

        .login-info {
            font-size: 14px;
            color: var(--dark);
        }

        .logout-btn {
            background: none;
            border: none;
            color: var(--secondary);
            cursor: pointer;
            font-size: 14px;
            margin-left: 15px;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .logout-btn:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        @media (max-width: 768px) {
            .court-grid {
                grid-template-columns: 80px repeat(5, 1fr);
            }
            
            .control-panel {
                grid-template-columns: 1fr;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                border-radius: 0;
                border: none;
                border-bottom: 1px solid var(--light);
                text-align: left;
            }
            
            .tab.active::after {
                display: none;
            }
            
            .legend {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .login-section {
                text-align: center;
            }
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid var(--light);
            border-top: 5px solid var(--secondary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-overlay p {
            margin-top: 20px;
            color: var(--dark);
            font-weight: 500;
        }

        .booked-details-section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid #eee;
        }
        
        .booked-details-section h3 {
            margin-top: 0;
            margin-bottom: 15px;
            color: var(--primary);
            font-size: 18px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .booking-item {
            padding: 10px;
            margin-bottom: 10px;
            background: #f8f9fa;
            border-radius: 4px;
            border-left: 4px solid var(--secondary);
        }
        
        .booking-item .detail-row {
            margin-bottom: 5px;
        }
        
        .booking-item .detail-label {
            font-weight: 500;
            color: var(--dark);
            min-width: 100px;
        }
        
        .booking-item .detail-value {
            color: #555;
        }

        /* Remove all date picker styles */
        input[type="date"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }

        /* Hamburger Menu */
        .hamburger {
            display: none;
            flex-direction: column;
            gap: 6px;
            cursor: pointer;
            margin-left: 20px;
            width: 44px;
            height: 44px;
            justify-content: center;
            align-items: center;
            z-index: 1100;
        }

        .hamburger span {
            display: block;
            width: 32px;
            height: 4px;
            background: white;
            border-radius: 2px;
            transition: 0.3s;
        }

        .hamburger:hover {
            transform: scale(1.05);
        }

        .hamburger-menu {
            display: none;
            position: absolute;
            top: 80px;
            right: 20px;
            background: #00274D;
            width: 250px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            overflow: hidden;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hamburger-menu.active {
            display: block;
        }

        .hamburger-menu a {
            display: block;
            padding: 15px 25px;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 16px;
            letter-spacing: 0.5px;
        }

        .hamburger-menu a:hover {
            background: #00509E;
            padding-left: 30px;
        }

        .hamburger-menu a:last-child {
            border-bottom: none;
        }

        @media (max-width: 768px) {
            .main-nav {
                display: none;
            }

            .hamburger-menu {
                width: 100%;
                right: 0;
                top: 70px;
                border-radius: 0;
            }
        }

        /* Navigation Bar */
        nav {
            background-color: #0a2342;
            color: white;
            padding: 0 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 90px !important;
            min-height: 90px !important;
            border-bottom: 1px solid #e0e6ed;
            position: relative;
            z-index: 1000;
            box-shadow: none;
        }

        .logo {
            height: 60px;
            width: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin-right: 10px;
            transition: none;
        }

        .logo img {
            height: 60px;
            width: 60px;
            max-width: 100%;
            border-radius: 0;
            object-fit: cover;
        }

        .main-nav {
            display: flex;
            gap: 0.5rem;
            list-style: none;
            margin: 0;
            padding: 0;
            flex-shrink: 0;
            align-items: center;
        }

        .main-nav a {
            text-decoration: none;
            color: #f4f6fa;
            font-size: 1rem;
            padding: 0.7rem 1.1rem;
            border-radius: 0.2rem;
            transition: background 0.2s, color 0.2s;
            white-space: nowrap;
            display: block;
            position: relative;
            font-weight: 500;
            letter-spacing: 0.2px;
        }

        .main-nav a:hover {
            background-color: #17335c;
            color: #e0e6ed;
            box-shadow: none;
            transform: none;
        }

        .main-nav a.active {
            background-color: #17335c;
            color: #e0e6ed;
            box-shadow: none;
        }

        .main-nav a.active::after {
            display: none;
        }

        @media (max-width: 900px) {
            nav {
                flex-direction: column;
                height: auto !important;
                min-height: auto !important;
                padding: 0.5rem;
            }
            .logo {
                margin-bottom: 0.5rem;
            }
            .main-nav {
                width: 100%;
                overflow-x: auto;
                overflow-y: hidden;
                -webkit-overflow-scrolling: touch;
                padding: 0.5rem 0;
                justify-content: flex-start;
                gap: 0.2rem;
                scrollbar-width: none; /* Firefox */
                -ms-overflow-style: none; /* IE and Edge */
            }
            .main-nav::-webkit-scrollbar {
                display: none; /* Chrome, Safari, Opera */
            }
            .main-nav li {
                flex: 0 0 auto;
            }
            .main-nav a {
                padding: 0.5rem 0.8rem;
                font-size: 0.95rem;
                background-color: transparent;
                border-radius: 12px;
            }
            .main-nav a:hover, .main-nav a.active {
                background-color: #17335c;
                color: #e0e6ed;
            }
        }
        @media (max-width: 480px) {
            .main-nav a {
                padding: 0.3rem 0.5rem;
                font-size: 0.85rem;
            }
        }
        #nav-backdrop {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.3);
            z-index: 1099;
        }
        #nav-backdrop.active {
            display: block;
        }

        .court-scroll {
            display: flex;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            padding-bottom: 1rem;
            scrollbar-width: none; /* Firefox */
        }
        .court-scroll::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }
    </style>
    <script>
        function checkLogin() {
            let user = localStorage.getItem("loggedInUser");
            if (!user) {
                alert("You are not logged in. Redirecting to login page.");
                window.location.href = "login.html";
            } else {
                document.getElementById("logoutNav").style.display = "inline";
            }
        }

        function logout() {
            localStorage.removeItem("loggedInUser");
            alert("You have successfully logged out.");
            window.location.href = "login.html";
        }

        function toggleMenu(e) {
            e.stopPropagation();
            document.getElementById('mainNav').classList.toggle('active');
            document.getElementById('nav-backdrop').classList.toggle('active');
        }

        function closeMenu() {
            document.getElementById('mainNav').classList.remove('active');
            document.getElementById('nav-backdrop').classList.remove('active');
        }

        document.querySelectorAll('.main-nav a').forEach(link => {
            link.addEventListener('click', closeMenu);
        });

        window.addEventListener('resize', function() {
            if(window.innerWidth > 900) closeMenu();
        });

        window.addEventListener('scroll', closeMenu);
    </script>
</head>
<body onload="checkLogin()">
    <!-- Navigation Bar -->
    <nav>
        <div class="logo">
            <img src="gym.jpg" alt="College Sports Hub Logo">
        </div>
        <ul class="main-nav" id="mainNav">
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="booking.html" class="active">Slot Booking</a></li>
            <li><a href="team.html">Find a Team</a></li>
            <li><a href="tournaments.html">Tournaments</a></li>
            <li><a href="rules.html">Rules</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="details.html">Details</a></li>
            <li><a href="#" onclick="logout()">Logout</a></li>
        </ul>
        <div class="hamburger" onclick="toggleMenu(event)">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </nav>
    <div id="nav-backdrop"></div>

    <div class="container">
    <div class="login-section" role="status" aria-live="polite">
        <span class="login-info">Logged in as: <span id="logged-in-email" aria-label="Current user email">guest@university.edu</span></span>
        <button class="logout-btn" id="logout-btn" aria-label="Logout">Logout</button>
        </div>
        
        <div class="header">
            <h1>MLRIT Badminton Court Booking System</h1>
        <h2>MLRIT INDOOR Stadium, MAIN CAMPUS</h2>
        </div>
        
        <div class="content">
        <div class="tabs" role="tablist">
            <div class="tab active" data-tab="booking" role="tab" aria-selected="true" aria-controls="booking-tab">New Booking</div>
            <div class="tab" data-tab="cancel" role="tab" aria-selected="false" aria-controls="cancel-tab">Cancel Booking</div>
            <div class="tab" data-tab="my-bookings" role="tab" aria-selected="false" aria-controls="my-bookings-tab">My Bookings</div>
        </div>
            
        <!-- New Booking Tab Content -->
        <div class="tab-content active" id="booking-tab" role="tabpanel" aria-labelledby="booking-tab">
            <div class="control-panel">
                <div class="control-group">
                    <label for="booking-date">Booking Date</label>
                    <input type="date" id="booking-date" required>
                </div>
                
                <div class="control-group">
                    <label for="time-slot">Time Slot</label>
                    <select id="time-slot" required>
                        <option value="13:00-14:00">1:00 PM - 2:00 PM</option>
                        <option value="14:00-15:00">2:00 PM - 3:00 PM</option>
                        <option value="15:00-16:00">3:00 PM - 4:00 PM</option>
                        <option value="16:00-17:00">4:00 PM - 5:00 PM</option>
                        <option value="17:00-18:00">5:00 PM - 6:00 PM</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="student-type-display">Student Type</label>
                    <input type="text" id="student-type-display" readonly>
                </div>
            </div>
            
            <div class="notification-area" id="notification-area" role="alert" aria-live="polite"></div>
            
            <!-- Booked Details Section -->
            <div class="booked-details-section" id="booked-details-section">
                <h3 class="form-title">Current Bookings for Selected Slot</h3>
                <div class="confirmation-details" id="current-bookings-list">
                    <p>No bookings for this time slot.</p>
                </div>
            </div>
            
            <!-- Court Selection Section -->
            <div class="court-scroll">
                <div class="court-grid" role="grid">
                    <div class="court-row">
                        <div class="court-label">Court #</div>
                        <div class="court-number">1</div>
                        <div class="court-number">2</div>
                        <div class="court-number">3</div>
                        <div class="court-number">4</div>
                        <div class="court-number">5</div>
                        <div class="court-number">6</div>
                        <div class="court-number">7</div>
                        <div class="court-number">8</div>
                        <div class="court-number">9</div>
                        <div class="court-number">10</div>
                    </div>
                    <div class="court-status-row">
                        <div class="status-label">Status</div>
                        <div class="court available" data-court="1" role="gridcell" tabindex="0" aria-label="Court 1 Available">Available</div>
                        <div class="court available" data-court="2" role="gridcell" tabindex="0" aria-label="Court 2 Available">Available</div>
                        <div class="court available" data-court="3" role="gridcell" tabindex="0" aria-label="Court 3 Available">Available</div>
                        <div class="court available" data-court="4" role="gridcell" tabindex="0" aria-label="Court 4 Available">Available</div>
                        <div class="court available" data-court="5" role="gridcell" tabindex="0" aria-label="Court 5 Available">Available</div>
                        <div class="court available" data-court="6" role="gridcell" tabindex="0" aria-label="Court 6 Available">Available</div>
                        <div class="court available" data-court="7" role="gridcell" tabindex="0" aria-label="Court 7 Available">Available</div>
                        <div class="court available" data-court="8" role="gridcell" tabindex="0" aria-label="Court 8 Available">Available</div>
                        <div class="court available" data-court="9" role="gridcell" tabindex="0" aria-label="Court 9 Available">Available</div>
                        <div class="court available" data-court="10" role="gridcell" tabindex="0" aria-label="Court 10 Available">Available</div>
                    </div>
                </div>
            </div>
            
            <div class="loading-overlay" id="loading-overlay" style="display: none;">
                <div class="loading-spinner"></div>
                <p>Processing your request...</p>
            </div>
            
            <div class="legend">
                <div class="legend-item">
                    <div class="color-box available"></div>
                    <span>Available</span>
                </div>
                <div class="legend-item">
                    <div class="color-box selected"></div>
                    <span>Selected</span>
                </div>
                <div class="legend-item">
                    <div class="color-box booked"></div>
                    <span>Booked</span>
                </div>
                <div class="legend-item">
                    <div class="color-box restricted"></div>
                    <span>Type Restricted</span>
                </div>
                <div class="legend-item">
                    <div class="color-box type-restricted"></div>
                    <span>BTech/MBA Restricted</span>
                </div>
                <div class="legend-item">
                    <div class="color-box time-restricted"></div>
                    <span>Time Restricted</span>
                </div>
            </div>
            
            <div class="user-details-form" id="user-details-form" style="display: none;">
                <h3 class="form-title">Enter Booking Details</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="user-name">Full Name</label>
                        <input type="text" id="user-name" readonly>
                    </div>
                    <div class="form-group">
                        <label for="user-email">University Email ID</label>
                        <input type="email" id="user-email" readonly>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="user-rollno">University Roll Number</label>
                        <input type="text" id="user-rollno" readonly>
                    </div>
                    <div class="form-group">
                        <label for="user-phone">Phone Number</label>
                        <input type="tel" id="user-phone" readonly>
                    </div>
                </div>
                <div class="button-group">
                    <button class="btn btn-danger" id="cancel-booking">Cancel</button>
                    <button class="btn btn-primary" id="submit-booking">Confirm Booking</button>
                </div>
            </div>
            
            <div class="booking-confirmation" id="booking-confirmation" style="display: none;">
                <h3 class="confirmation-title">Booking Confirmation</h3>
                <div class="confirmation-details">
                    <div class="detail-row">
                        <div class="detail-label">Booking ID:</div>
                        <div class="detail-value" id="booking-id">Loading...</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Court Number:</div>
                        <div class="detail-value" id="confirmation-court"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Date:</div>
                        <div class="detail-value" id="confirmation-date"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Time Slot:</div>
                        <div class="detail-value" id="confirmation-time"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Student Name:</div>
                        <div class="detail-value" id="confirmation-name"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Email ID:</div>
                        <div class="detail-value" id="confirmation-email"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Roll Number:</div>
                        <div class="detail-value" id="confirmation-rollno"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Phone Number:</div>
                        <div class="detail-value" id="confirmation-phone"></div>
                    </div>
                </div>
                
                <div class="booking-id" id="booking-id-display"></div>
                
                <div class="button-group">
                    <button class="btn btn-outline" id="print-booking">Print Confirmation</button>
                    <button class="btn btn-success" id="new-booking">Make Another Booking</button>
                </div>
            </div>
        </div>
        
        <!-- Cancel Booking Tab Content -->
        <div class="tab-content" id="cancel-tab" role="tabpanel" aria-labelledby="cancel-tab" style="display: none;">
            <div class="cancel-booking-form">
                <h3 class="form-title">Cancel Existing Booking</h3>
                <div class="form-group">
                    <label for="cancel-booking-id">Booking ID</label>
                    <input type="text" id="cancel-booking-id" placeholder="Enter your booking ID">
                </div>
                <div class="button-group">
                    <button class="btn btn-outline" id="back-to-booking">Back to Booking</button>
                    <button class="btn btn-danger" id="confirm-cancel">Cancel Booking</button>
                </div>
            </div>
            
            <div class="booking-confirmation" id="cancel-confirmation" style="display: none;">
                <h3 class="confirmation-title">Booking Cancellation Confirmation</h3>
                <div class="confirmation-details">
                    <div class="detail-row">
                        <div class="detail-label">Booking ID:</div>
                        <div class="detail-value" id="cancel-confirm-id"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Court Number:</div>
                        <div class="detail-value" id="cancel-confirm-court"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Date:</div>
                        <div class="detail-value" id="cancel-confirm-date"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Time Slot:</div>
                        <div class="detail-value" id="cancel-confirm-time"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Status:</div>
                        <div class="detail-value" id="cancel-confirm-status">Cancelled</div>
                    </div>
                </div>
                
                <div class="notification-area" id="cancel-notification"></div>
                
                <div class="button-group">
                    <button class="btn btn-success" id="new-booking-after-cancel">Make New Booking</button>
                </div>
            </div>
        </div>
        
        <!-- My Bookings Tab Content -->
        <div class="tab-content" id="my-bookings-tab" role="tabpanel" aria-labelledby="my-bookings-tab" style="display: none;">
            <div class="booking-confirmation">
                <h3 class="confirmation-title">My Bookings</h3>
                <div id="my-bookings-list">
                    <p>Loading your bookings...</p>
                </div>
            </div>
        </div>
    </div>
        
    <div class="footer">
        <p>© 2025 University Sports Facility Management System | For assistance, contact sportsdesk@university.edu</p>
    </div>
</div>

<script>
// Global variables
let selectedCourt = null;
let userEmail = "guest@university.edu";
let userBookings = {};
let currentBookings = {};
let allBookings = {};

        // DOM Elements
        const courts = document.querySelectorAll('.court');
        const dateInput = document.getElementById('booking-date');
        const timeSlotSelect = document.getElementById('time-slot');
        const notificationArea = document.getElementById('notification-area');
        const userDetailsForm = document.getElementById('user-details-form');
        const bookingConfirmation = document.getElementById('booking-confirmation');
        const userNameInput = document.getElementById('user-name');
        const userEmailInput = document.getElementById('user-email');
        const userRollNoInput = document.getElementById('user-rollno');
        const userPhoneInput = document.getElementById('user-phone');
        const submitBookingBtn = document.getElementById('submit-booking');
        const cancelBookingBtn = document.getElementById('cancel-booking');
        const newBookingBtn = document.getElementById('new-booking');
        const printBookingBtn = document.getElementById('print-booking');
        const bookingIdDisplay = document.getElementById('booking-id-display');
const loggedInEmailSpan = document.getElementById('logged-in-email');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const cancelBookingIdInput = document.getElementById('cancel-booking-id');
        const confirmCancelBtn = document.getElementById('confirm-cancel');
        const backToBookingBtn = document.getElementById('back-to-booking');
        const cancelConfirmation = document.getElementById('cancel-confirmation');
        const cancelNotification = document.getElementById('cancel-notification');
        const newBookingAfterCancelBtn = document.getElementById('new-booking-after-cancel');
        const myBookingsTab = document.getElementById('my-bookings-tab');
        const myBookingsList = document.getElementById('my-bookings-list');
const logoutBtn = document.getElementById('logout-btn');

// Initialize the page when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    // Check login status and load user data immediately
    const loggedInUser = localStorage.getItem('loggedInUser');
    if (!loggedInUser) {
        window.location.href = 'login.html';
        return;
    }

    // Load user data immediately
    const users = JSON.parse(localStorage.getItem('users')) || {};
    const userData = users[loggedInUser];
    
    if (!userData) {
        window.location.href = 'login.html';
                return;
            }
            
    // Update all user information fields immediately
    loggedInEmailSpan.textContent = userData.email;
    userNameInput.value = userData.fullname || '';
    userEmailInput.value = userData.email || '';
    userRollNoInput.value = userData.rollno || '';
    userPhoneInput.value = userData.phone || '';
    document.getElementById('student-type-display').value = userData.studentType || '';

    // Initialize the rest of the page
    initialize();
});

// Initialize function
function initialize() {
    // Set default date to today
    const today = new Date();
    const dateInput = document.getElementById('booking-date');
    dateInput.value = today.toISOString().split('T')[0];
    
    // Add event listener for date changes
    dateInput.addEventListener('change', function() {
        updateCourtAvailability();
    });
    
    loadBookings();
    updateCourtAvailability();
    setupEventListeners();
}

// Set up all event listeners
function setupEventListeners() {
    // Court selection
    courts.forEach(court => {
        court.addEventListener('click', handleCourtClick);
    });
    
    timeSlotSelect.addEventListener('change', updateCourtAvailability);

    // Buttons
    submitBookingBtn.addEventListener('click', handleBookingSubmit);
    cancelBookingBtn.addEventListener('click', handleBookingCancel);
    newBookingBtn.addEventListener('click', handleNewBooking);
    printBookingBtn.addEventListener('click', handlePrintBooking);
    confirmCancelBtn.addEventListener('click', handleConfirmCancel);
    backToBookingBtn.addEventListener('click', handleBackToBooking);
    newBookingAfterCancelBtn.addEventListener('click', handleNewBookingAfterCancel);
    logoutBtn.addEventListener('click', handleLogout);

    // Tabs
    tabs.forEach(tab => {
        tab.addEventListener('click', handleTabClick);
    });
}

// Load bookings from localStorage
function loadBookings() {
    try {
        const savedBookings = JSON.parse(localStorage.getItem('sportBookings')) || [];
        currentBookings = {};
        allBookings = {};
        
        // Get today's date for comparison
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        
        // Process saved bookings
        savedBookings.forEach(booking => {
            const bookingDate = new Date(booking.date);
            bookingDate.setHours(0, 0, 0, 0);
            
            // Only include future bookings in currentBookings
            if (bookingDate >= today) {
                const bookingKey = `${booking.date}-${booking.timeSlot}`;
                if (!currentBookings[bookingKey]) {
                    currentBookings[bookingKey] = [];
                }
                currentBookings[bookingKey].push(booking.court);
            }
            
            // Store all booking details in allBookings
            allBookings[booking.id] = booking;
        });
        
        // Update user's bookings
        updateUserBookings();
    } catch (error) {
        console.error('Error loading bookings:', error);
        showNotification('Error loading booking data. Please refresh the page.', 'error');
    }
        }
        
        // Update court availability based on rules
        function updateCourtAvailability() {
            const date = dateInput.value;
            const timeSlot = timeSlotSelect.value;
    
            // Check if date is in the past
            if (date) {
                const selectedDate = new Date(date);
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                
                if (selectedDate < today) {
                    showNotification('Cannot select past dates. Please select today or a future date.', 'error');
                    dateInput.value = today.toISOString().split('T')[0];
                    return;
                }
            }
            
            // Get student type from logged in user data
            const loggedInUser = localStorage.getItem('loggedInUser');
            const users = JSON.parse(localStorage.getItem('users')) || {};
            const userData = users[loggedInUser];
            const studentType = userData ? userData.studentType.toLowerCase() : '';
            
            const startHour = parseInt(timeSlot.split(':')[0]);
            
            // Reset all courts to available first
            courts.forEach(court => {
                court.className = 'court available';
                court.textContent = 'Available';
            });

            // Apply restrictions based on student type and time
            if (studentType === 'btech' || studentType === 'mba') {
                // BTech/MBA students cannot book from 1PM to 3PM
                if (startHour >= 13 && startHour < 15) {
                    courts.forEach(court => {
                        court.className = 'court time-restricted';
                        court.textContent = 'Time Restricted';
                    });
                }
                // BTech/MBA students cannot book courts 1 and 2 from 3PM to 6PM
                else if (startHour >= 15 && startHour < 18) {
                    courts[0].className = 'court type-restricted';
                    courts[0].textContent = 'Restricted';
                    courts[1].className = 'court type-restricted';
                    courts[1].textContent = 'Restricted';
                }
            } 
            // Medical students cannot book courts 3-10 from 3PM to 6PM
            else if (studentType === 'medical' && startHour >= 15 && startHour < 18) {
                    for (let i = 2; i < courts.length; i++) {
                        courts[i].className = 'court restricted';
                        courts[i].textContent = 'Restricted';
                }
            }

            // Mark booked courts
            const bookingKey = `${date}-${timeSlot}`;
            if (currentBookings[bookingKey]) {
                currentBookings[bookingKey].forEach(courtNum => {
                    const courtElement = document.querySelector(`.court[data-court="${courtNum}"]`);
                    if (courtElement) {
                        courtElement.className = 'court booked';
                        courtElement.textContent = 'Booked';
                    }
                });
            }

            // Check if user already has a booking for this date
            if (hasUserBookedForDay(date)) {
                courts.forEach(court => {
                    if (court.classList.contains('available')) {
                        court.className = 'court restricted';
                        court.textContent = 'One booking per day';
                    }
                });
                showNotification('You can only book one court per day.', 'error');
            }

            // Update booked details
            updateBookedDetails();
        }

// Event Handlers
function handleCourtClick() {
    // Check if date is selected
    if (!dateInput.value) {
        showNotification('Please select a date first.', 'error');
        dateInput.focus();
        return;
    }

                if (this.classList.contains('available')) {
                    // Deselect previous selection
                    if (selectedCourt) {
                        const prevSelected = document.querySelector(`.court[data-court="${selectedCourt}"]`);
                        prevSelected.className = 'court available';
                        prevSelected.textContent = 'Available';
                    }
                    
                    // Select new court
                    selectedCourt = this.getAttribute('data-court');
                    this.className = 'court selected';
                    this.textContent = 'Selected';
                    
                    // Show user details form
                    userDetailsForm.style.display = 'block';
                    bookingConfirmation.style.display = 'none';
                } else if (this.classList.contains('selected')) {
                    // Deselect current selection
                    this.className = 'court available';
                    this.textContent = 'Available';
                    selectedCourt = null;
                    userDetailsForm.style.display = 'none';
                    showNotification('Selection canceled.', 'error');
                } else if (this.classList.contains('restricted')) {
                    showNotification('This court is restricted for your student type.', 'error');
                } else if (this.classList.contains('type-restricted')) {
                    showNotification('BTech/MBA students cannot book courts 1 and 2 from 3PM-6PM.', 'error');
                } else if (this.classList.contains('time-restricted')) {
                    showNotification('All courts are restricted for your student type during this time (1PM-3PM).', 'error');
                } else if (this.classList.contains('booked')) {
                    showNotification('This court has already been booked by another student.', 'error');
                }
}

function handleBookingSubmit() {
    showLoading();
    
    const loggedInUser = localStorage.getItem('loggedInUser');
    if (!loggedInUser) {
        window.location.href = 'login.html';
                return;
            }
            
    const users = JSON.parse(localStorage.getItem('users')) || {};
    const userData = users[loggedInUser];
    
    if (!userData) {
        showNotification('User data not found. Please log in again.', 'error');
        hideLoading();
                return;
            }
            
    const userName = userData.fullname;
    const userEmail = userData.email;
    const userRollNo = userData.rollno;
    const userPhone = userData.phone;
    const studentType = userData.studentType ? userData.studentType.toLowerCase() : '';
    const date = dateInput.value;
    const timeSlot = timeSlotSelect.value;
    const courtNumber = selectedCourt;

    // Validate inputs
    if (!userName || !userEmail || !userRollNo || !userPhone) {
        showNotification('Please complete your profile information.', 'error');
        hideLoading();
                return;
            }
    if (!courtNumber) {
        showNotification('Please select a court.', 'error');
        hideLoading();
                return;
            }
    if (!isSlotAvailable(date, timeSlot, courtNumber)) {
        showNotification('This slot has already been booked.', 'error');
        hideLoading();
                return;
            }
    if (hasUserBookedForDay(date)) {
                showNotification('You can only book one court per day.', 'error');
        hideLoading();
                return;
            }
            
            // Generate booking details
    const bookingId = 'B' + Date.now() + Math.floor(Math.random() * 1000);
    const bookingDetails = {
        id: bookingId,
                court: courtNumber,
        date: date,
                timeSlot: timeSlot,
                name: userName,
                email: userEmail,
                rollNo: userRollNo,
                phone: userPhone,
        status: 'confirmed',
        bookingTime: new Date().toISOString(),
        studentType: studentType
    };

    // Save booking
    if (!saveBooking(bookingDetails)) {
        hideLoading();
        return;
    }

    // Update current bookings
    const bookingKey = `${date}-${timeSlot}`;
    if (!currentBookings[bookingKey]) {
        currentBookings[bookingKey] = [];
    }
    currentBookings[bookingKey].push(courtNumber);

    // Store all booking details
    allBookings[bookingId] = bookingDetails;
            
            // Update user bookings
            updateUserBookings();
            
            // Show booking confirmation
    showBookingConfirmation(bookingDetails);

    // Reset form and update UI
    resetForm();
    updateCourtAvailability();
    hideLoading();
}

function handleBookingCancel() {
    resetForm();
            userDetailsForm.style.display = 'none';
    bookingConfirmation.style.display = 'none';
    showNotification('Booking cancelled.', 'error');
}

function handleNewBooking() {
    resetForm();
    userDetailsForm.style.display = 'none';
            bookingConfirmation.style.display = 'none';
            updateCourtAvailability();
}
        
function handlePrintBooking() {
            window.print();
}

function handleConfirmCancel() {
    const bookingId = cancelBookingIdInput.value.trim();
            if (!bookingId) {
        showNotification('Please enter a booking ID.', 'error');
                return;
            }
    cancelBookingById(bookingId);
}

function handleBackToBooking() {
    tabs[0].click();
}

function handleNewBookingAfterCancel() {
    tabs[0].click();
}

function handleLogout() {
    localStorage.removeItem('loggedInUser');
    window.location.href = 'login.html';
}

function handleTabClick() {
    const tabId = this.getAttribute('data-tab');
    
    // Update tab states
    tabs.forEach(t => {
        t.classList.remove('active');
        t.setAttribute('aria-selected', 'false');
    });
    this.classList.add('active');
    this.setAttribute('aria-selected', 'true');
    
    // Hide all tab contents first
    tabContents.forEach(content => {
        content.classList.remove('active');
        content.style.display = 'none';
    });
    
    // Show only the selected tab content
    const selectedContent = document.getElementById(`${tabId}-tab`);
    if (selectedContent) {
        selectedContent.classList.add('active');
        selectedContent.style.display = 'block';
    }
    
    // Reset forms when switching tabs
    if (tabId === 'booking') {
        resetForm();
        userDetailsForm.style.display = 'none';
        bookingConfirmation.style.display = 'none';
    } else if (tabId === 'cancel') {
        cancelBookingIdInput.value = '';
        cancelConfirmation.style.display = 'none';
    } else if (tabId === 'my-bookings') {
        updateUserBookings();
    }
}

// Utility Functions
function isSlotAvailable(date, timeSlot, court) {
    const bookingKey = `${date}-${timeSlot}`;
    return !currentBookings[bookingKey] || !currentBookings[bookingKey].includes(court);
}

function hasUserBookedForDay(date) {
    return Object.values(userBookings).some(booking => 
        booking.date === date && booking.status === 'confirmed'
    );
}

function saveBooking(bookingDetails) {
    try {
        const savedBookings = JSON.parse(localStorage.getItem('sportBookings')) || [];
        savedBookings.push(bookingDetails);
        localStorage.setItem('sportBookings', JSON.stringify(savedBookings));
        return true;
    } catch (error) {
        console.error('Error saving booking:', error);
        showNotification('Error saving booking. Please try again.', 'error');
        return false;
    }
}

function showLoading() {
    document.getElementById('loading-overlay').style.display = 'flex';
}

function hideLoading() {
    document.getElementById('loading-overlay').style.display = 'none';
}

function showNotification(message, type = 'error') {
    notificationArea.textContent = message;
    notificationArea.className = 'notification-area ' + type;
}

function resetForm() {
    userNameInput.value = '';
    userEmailInput.value = '';
    userRollNoInput.value = '';
    userPhoneInput.value = '';
    selectedCourt = null;
}

function updateUserBookings() {
    const loggedInUser = localStorage.getItem('loggedInUser');
    const users = JSON.parse(localStorage.getItem('users')) || {};
    const userData = users[loggedInUser];
    userEmail = userData ? userData.email : "guest@university.edu";
    
    userBookings = {};
    for (const [id, booking] of Object.entries(allBookings)) {
        if (booking.email === userEmail) {
            userBookings[id] = booking;
        }
    }
    renderMyBookings();
}

function renderMyBookings() {
    if (Object.keys(userBookings).length === 0) {
        myBookingsList.innerHTML = '<p>You have no active bookings.</p>';
        return;
    }
    
    // Get today's date for comparison
    const today = new Date();
    today.setHours(0, 0, 0, 0);
    
    let html = '<div class="confirmation-details">';
    let hasActiveBookings = false;
    
    for (const [id, booking] of Object.entries(userBookings)) {
        if (booking.status === 'cancelled') continue;
        
        const bookingDate = new Date(booking.date);
        bookingDate.setHours(0, 0, 0, 0);
        
        // Only show current and future bookings
        if (bookingDate >= today) {
            hasActiveBookings = true;
            html += `
                <div class="detail-row">
                    <div class="detail-label">Booking ID:</div>
                    <div class="detail-value">${id}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Court Number:</div>
                    <div class="detail-value">${booking.court}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Date:</div>
                    <div class="detail-value">${bookingDate.toLocaleDateString('en-US', { 
                        weekday: 'long', 
                        day: 'numeric', 
                        month: 'long', 
                        year: 'numeric' 
                    })}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Time Slot:</div>
                    <div class="detail-value">${booking.timeSlot}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Status:</div>
                    <div class="detail-value">${booking.status === 'confirmed' ? 'Confirmed' : 'Cancelled'}</div>
                </div>
                <div class="button-group" style="margin: 15px 0 30px;">
                    <button class="btn btn-danger cancel-my-booking" data-booking-id="${id}">Cancel Booking</button>
                </div>
                <hr style="margin: 20px 0; border: 0; border-top: 1px solid #eee;">
            `;
        }
    }
    html += '</div>';
    
    if (!hasActiveBookings) {
        myBookingsList.innerHTML = '<p>You have no active bookings.</p>';
    } else {
        myBookingsList.innerHTML = html;
        
        // Add event listeners to cancel buttons
        document.querySelectorAll('.cancel-my-booking').forEach(btn => {
            btn.addEventListener('click', function() {
                const bookingId = this.getAttribute('data-booking-id');
                cancelBookingById(bookingId);
            });
        });
    }
}

function cancelBookingById(bookingId) {
    if (!allBookings[bookingId]) {
        showNotification('No booking found with this ID.', 'error');
        return;
    }
    
    if (allBookings[bookingId].status === 'cancelled') {
        showNotification('This booking has already been cancelled.', 'error');
        return;
    }
    
    // Cancel the booking
    const booking = allBookings[bookingId];
    booking.status = 'cancelled';
    
    // Remove from current bookings
    const bookingKey = `${booking.date}-${booking.timeSlot}`;
    if (currentBookings[bookingKey]) {
        currentBookings[bookingKey] = currentBookings[bookingKey].filter(
            court => court !== booking.court
        );
    }
    
    // Update the UI
    updateCourtAvailability();
    updateUserBookings();
    
    showNotification('Booking has been successfully cancelled.', 'success');
}

function showBookingConfirmation(bookingDetails) {
    document.getElementById('booking-id').textContent = bookingDetails.id;
    document.getElementById('confirmation-court').textContent = bookingDetails.court;
    document.getElementById('confirmation-date').textContent = 
        new Date(bookingDetails.date).toLocaleDateString('en-US', { 
            weekday: 'long', 
            day: 'numeric', 
            month: 'long', 
            year: 'numeric' 
        });
    document.getElementById('confirmation-time').textContent = bookingDetails.timeSlot;
    document.getElementById('confirmation-name').textContent = bookingDetails.name;
    document.getElementById('confirmation-email').textContent = bookingDetails.email;
    document.getElementById('confirmation-rollno').textContent = bookingDetails.rollNo;
    document.getElementById('confirmation-phone').textContent = bookingDetails.phone;
    bookingIdDisplay.textContent = `Booking ID: ${bookingDetails.id}`;
    
    // Mark the court as booked
    const selectedCourtElement = document.querySelector(`.court[data-court="${bookingDetails.court}"]`);
    selectedCourtElement.className = 'court booked';
    selectedCourtElement.textContent = 'Booked';
    
    // Hide form and show confirmation
    userDetailsForm.style.display = 'none';
    bookingConfirmation.style.display = 'block';
    
    showNotification('Booking confirmed successfully!', 'success');
}

function updateBookedDetails() {
    const date = dateInput.value;
    const timeSlot = timeSlotSelect.value;
    const bookingKey = `${date}-${timeSlot}`;
    const bookedDetailsSection = document.getElementById('booked-details-section');
    const currentBookingsList = document.getElementById('current-bookings-list');
    
    if (!date || !timeSlot) {
        bookedDetailsSection.style.display = 'none';
        return;
    }
    
    const bookings = currentBookings[bookingKey] || [];
    
    if (bookings.length === 0) {
        currentBookingsList.innerHTML = '<p>No bookings for this time slot.</p>';
        bookedDetailsSection.style.display = 'block';
        return;
    }
    
    let html = '';
    bookings.forEach(courtNumber => {
        const booking = Object.values(allBookings).find(b => 
            b.date === date && 
            b.timeSlot === timeSlot && 
            b.court === courtNumber &&
            b.status === 'confirmed'
        );
        
        if (booking) {
            html += `
                <div class="booking-item">
                    <div class="detail-row">
                        <div class="detail-label">Court:</div>
                        <div class="detail-value">${booking.court}</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Booked By:</div>
                        <div class="detail-value">${booking.name}</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Student Type:</div>
                        <div class="detail-value">${booking.studentType === 'medical' ? 'Medical Student' : 
                            booking.studentType === 'btech' ? 'BTech Student' : 'MBA Student'}</div>
                    </div>
                </div>
            `;
        }
    });
    
    currentBookingsList.innerHTML = html || '<p>No bookings for this time slot.</p>';
    bookedDetailsSection.style.display = 'block';
}
</script>

</body>
</html>
